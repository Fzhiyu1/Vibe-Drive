# 探索文档：Three.js 车机系统

## 探索目标

研究如何使用 Three.js 在车机系统中实现 3D 可视化效果。

## 背景

当前 Vibe Drive 项目使用 CSS 动效实现氛围可视化，探索使用 Three.js 实现更丰富的 3D 效果。

## 待探索内容

- [x] Three.js 基础集成方案
- [ ] Vue 3 + Three.js 最佳实践
- [x] 车内 3D 场景建模
- [x] 氛围灯光效实现
- [ ] 性能优化策略

## 探索记录

### 话题1：技术选型

**讨论日期**：2025-12-24

**方案对比**：

| 方案 | 优点 | 缺点 |
|------|------|------|
| 原生 Three.js | 文档完善、社区庞大、无抽象层、性能最优 | 需手动管理生命周期、与 Vue 响应式集成需额外代码 |
| TresJS | Vue 生态原生、声明式语法、自动响应式 | 较新、训练数据少、API 可能变化 |

**AI 生成友好度考量**：
- 原生 Three.js 训练数据量大，代码模式固定，生成准确率高
- TresJS 2023 年才流行，AI 生成可能出现配置问题

**结论**：采用 **原生 Three.js + Vue Composable 封装**

```
composables/
├── useThreeScene.ts      # 场景初始化/销毁
└── useAmbienceLight.ts   # 氛围灯控制
```

**理由**：
- 底层用原生 Three.js（AI 生成可靠）
- 上层用 Vue composable 封装（保持响应式）
- 代码可控，出问题容易排查

---

### 话题2：AI 生成 3D 能力测试

**讨论日期**：2025-12-24

**测试方法**：
- 设计 8 个难度递增的测试用例
- 分别用 Claude 和 Gemini 生成代码
- 对比验收结果

**测试用例**：见 `experiments/threejs-car/requirements/`

---

## 结论

### AI 能力对比

| 维度 | Claude | Gemini |
|------|--------|--------|
| 视觉效果 | 一般（方形粒子） | **更好**（圆形粒子、Shader） |
| 代码逻辑 | **更清晰**（配置化、模块化） | 较复杂（Shader 内联） |
| 创意性 | 中规中矩 | **更有想法**（雾效、A柱） |
| 可维护性 | **更好** | 一般 |

### 关键发现

1. **需求文档很重要**
   - 详细需求 → 结果相似
   - 开放需求 → 能区分 AI 能力
   - 缺少的要求（如光照）→ 两个都会忽略

2. **AI 生成 3D 的现状**
   - 简单几何体：可靠
   - 复杂模型：堪堪可用
   - 需要人工调整：位置、光照、穿模

3. **修复难度降低**
   - 代码结构清晰，定位问题快
   - 参数调整直观
   - 比"前世代"模型好改
